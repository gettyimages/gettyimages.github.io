<!DOCTYPE html><html><head><title>Perguntas frequentes: Utilizar o OAuth 2.0 para aceder à API da Getty Images</title><script src=http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js></script><script src=/js/s_code.js></script><script src=/js/analytics.js></script><script src=/js/angular.min.js></script><script src=/js/spin.min.js></script><script src=/js/angular-spinner.min.js></script><script src=/js/api.js></script><link href="http://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900" rel=stylesheet type=text/css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/search.css><link rel=stylesheet href=/css/slicknav.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/responsive.css><link rel="shortcut icon" href=/images/favicon.gif type=image/gif><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><meta name=viewport content="width=device-width, initial-scale=1"></head><body class="home dark-text" ng-app=api><header><div class=site-width><div class="slice group"><div class="col length-4-of-4 logo"><a href="/pt/"><img src=/images/getty-api-logo.jpg alt="Getty Images API"></a><ul class="nav-items site-nav-desktop"><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Docs", "eVar3": "Docs" }, "parameter": "HeaderLink" }' href=../api>Docs</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Forum", "eVar3": "Forum" }, "parameter": "HeaderLink" }' href=http://developer.gettyimages.com/forum>Fórum</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Sign In", "eVar3": "Sign In" }, "parameter": "HeaderLink" }' href=https://developer.gettyimages.com/apps/mykeys>Iniciar a sessão</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Getting Started", "eVar3": "Getting Started" }, "parameter": "HeaderLink" }' href=../pt/getting-started.html>Introdução</a></li></ul><ul id=menu class=site-nav-mobile><li><a omniture='{ "fields": { "events":"event1", "prop3":"Docs", "eVar3": "Docs" }, "parameter": "HeaderLink" }' href=../api>Docs</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Forum", "eVar3": "Forum" }, "parameter": "HeaderLink" }' href=http://developer.gettyimages.com/forum>Fórum</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Sign In", "eVar3": "Sign In" }, "parameter": "HeaderLink" }' href=https://developer.gettyimages.com/apps/mykeys>Iniciar a sessão</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Getting Started", "eVar3": "Getting Started" }, "parameter": "HeaderLink" }' class=no-border href=../pt/getting-started.html>Introdução</a></li></ul></div></div></div></header><div class="slice group"><section class=site-width-alt-auth><h2 class=workflows-heading>Perguntas frequentes: Utilizar o OAuth 2.0 para aceder à API da Getty Images</h2><p>As API da Getty Images requerem o uso do protocolo OAuth 2.0 para a recuperação de autorizações e de tokens de autorização. Estes tokens são usados para:</p><ul><li>Identificar o utilizador (autenticação)</li><li>Identificar o conteúdo a que tem acesso ou uma licença (de utilização).</li></ul><p>Apesar de ser possível realizar algumas chamadas da API com apenas uma chave API (por exemplo, os pontos finais de pesquisa /v3/search/images e /v3/images não requerem um token de autorização), não recomendamos essa ação porque a resposta não será totalmente exata. Por exemplo, pedidos de pesquisa realizados apenas com uma chave devolverão ficheiros que não podem ser utilizados por não se encontrarem no âmbito da licença que lhe foi concedida para utilização.</p></section><section class=auth-head><div class=content-auth-head><h2 class=black-text>Perguntas frequentes sobre autorização</h2></div></section><section class=site-width-alt-auth><p class=faqq>P: Como asseguro que os meus resultados de pesquisa contêm apenas imagens ou vídeos que posso usar com a minha licença?</p><span class=faqa>R: Inclua sempre um token no cabeçalho do seu pedido de pesquisa, imagens e vídeos. O token identifica o utilizador e quais os ficheiros que a sua licença permite utilizar, de modo a que o motor de pesquisa devolva apenas ficheiros pertencentes a essa coleção de conteúdos.</span><p class=faqq>P: Ao realizar um pedido de download, recebo um erro de &quot;não autorizado&quot;. Porquê?</p><span class=faqa>R: Um motivo pelo qual pode estar a receber um erro &quot;não autorizado&quot; deve-se ao facto do vídeo ou da imagem a qual está a tentar realizar o download não pertencer ao âmbito do seu contrato de licença. Outro motivo pode dever-se ao facto de ser necessário um token para todos os pedidos de download e de o seu pedido não ter o token no cabeçalho de autorização HTTP.</span><p class=faqq>P: O token tem período de validade?</p><span class=faqa>R: Sim. Os tokens gerados por <a omniture='{ "fields": { "events":"event5", "prop5":"client credentials", "eVar5": "client credentials" }, "parameter": "BodyLink" }' href=#client-credentials>Credenciais de Cliente</a> e <a omniture='{ "fields": { "events":"event5", "prop5":"resource owner", "eVar5": "resource owner" }, "parameter": "BodyLink" }' href=#resource-owner>Proprietário de Recurso</a> têm uma validade de 30 minutos.</span><p class=faqq>P: Como é possível permitir aos utilizadores iniciarem a sessão com o seu nome de utilizador da Getty Images?</p><span class=faqa>R: O fluxo de Concessão Implícita de OAuth 2.0 foi implementado para esta finalidade. Consulte os <a omniture='{ "fields": { "events":"event5", "prop5":"authorization workflows", "eVar5": "authorization workflows" }, "parameter": "BodyLink" }' href=#authorization-workflows>Fluxos de trabalho de autorização</a> para obter mais informações sobre a <a omniture='{ "fields": { "events":"event5", "prop5":"implicit grant", "eVar5": "implicit grant" }, "parameter": "BodyLink" }' href=#implicit-grant>Concessão Implícita</a>.</span></section><section class=auth-sub-head><div class=content-auth-head><name id=authorization-workflows></name><h3 class=black-text>Fluxos de trabalho de autorização</h3></div></section><section class=site-width-alt-auth><p>A API da Getty Images usa o protocolo OAuth 2.0 para conceder acesso a funcionalidades da API por parte de aplicações de cliente. A sua aplicação de cliente irá usar OAuth 2.0 para solicitar um token de acesso ao servidor de autorização da Getty Images, extrair um token da resposta e, em seguida, enviar o token de volta para a API da Getty Images a que pretende aceder para realizar tarefas como pesquisar ou realizar o download de imagens. A API da Getty Images suporta os três seguintes fluxos OAuth 2.0:</p><ul><li>Credenciais de Cliente</li><li>Proprietário de Recurso</li><li>Concessão Implícita</li></ul><h4>Qual é o fluxo OAuth 2.0 que devo usar?</h4><table class=auth border=1 cellspacing=0 cellpadding=0 width=80%><tr class=table-header><td width=35% valign=top class=table-header><p><strong>Se</strong></p></td><td width=65% valign=top class=table-header><p><strong>Então</strong></p></td></tr><tr><td width=166 valign=top><p>Recebeu uma chave API ao registar-se para obter uma conta no site da API da Getty Images</p></td><td width=301 valign=top><p>A sua chave é configurada automaticamente para utilizar o fluxo de Credencial de Cliente.</p></td></tr><tr><td width=166 valign=top><p>Recebeu uma chave API ao registar-se para obter uma conta no site da API da Getty Images e está preparado para comercializar a sua aplicação</p></td><td width=301 valign=top><ul class=auth-table-list><li>Trabalhe com um gestor de conta da Getty Images para iniciar um contrato de licença entre a sua empresa e a Getty Images.</li><li>Trabalhe com um gestor de operações da Getty Images para determinar o fluxo OAuth 2.0 apropriado para a sua aplicação.</li></ul></td></tr></table><h4>Fluxos OAuth 2.0 suportados pela API da Getty Images</h4><name id=client-credentials></name><h5>Credenciais de Cliente</h5><p>O fluxo de Credenciais de Cliente destina-se a aplicações de cliente que não tenham utilizadores individuais. Uma aplicação "sandbox", que se destina ao desenvolvimento de uma experiência e que não requer um contrato de licença, apenas pode usar um fluxo de Credencial de Cliente.</p><p>Se a sua empresa tiver um contrato de licença com a Getty Images que conceda o acesso a imagens específicas, utilizar o fluxo de Credenciais de Cliente para pedidos de pesquisa irá devolver resultados que não refletem de forma exata o conteúdo ao qual tem acesso e não poderá realizar o download de ficheiros. Para obter resultados de pesquisa e realizar o download de ficheiros que se encontrem no âmbito do seu contrato de licença, a sua chave tem de ser configurada como um token com autorização total quando usar Credenciais de Cliente. Para obter mais informações sobre uma configuração específica, contacte um gestor de conta da Getty Images.</p><p>O fluxo de Credenciais de Cliente concede um token de 30 minutos de acesso. Assim que o token tiver expirado, tem de solicitar outro token. A grande maioria das aplicações recupera um token novo antes do token atual expirar.</p><h5>Obter o token de Credenciais de Cliente</h5><ol><li>Abra a <a href=https://api.gettyimages.com/swagger>ferramenta API baseada na Web da Getty Images</a>.</li><li>Na coluna esquerda clique em <b>OAuth2</b> e, em seguida, clique em <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/ClientCredentials_Post>POST /oauth2/token – Credenciais de Cliente</a>.</li><img src=../../images/examples/auth/oa-auth-2-cc.jpg class=oa-auth-cc><li>Na caixa <strong class=dark-bold>client_id</strong>, introduza a chave API da sua "sandbox".<p><a href=getting-started.html>Como posso obter uma chave da API da &quot;sandbox&quot;?</a></p></li><li>Na caixa <strong class=dark-bold>client_secret</strong>, introduza o segredo da sua API.<p>Onde encontro o segredo da minha API?</p><p class=faqa>Abra o site da API da Getty Images e na barra de navegação, no canto superior direito, clique em <a href=https://developer.gettyimages.com/apps/mykeys>Iniciar sessão</a>. Introduza o seu nome de utilizador e password, clique em <strong class=bold-text>Iniciar sessão</strong> e, em seguida, navegue até à página A minha conta.</p></li><li>Clique em <strong class=dark-bold>Obter token</strong>.<p><strong class=dark-bold>Notas</strong></p></li><ul><li>Use este token nas suas chamadas para os pontos finais da API.</li><li>O fluxo de Credenciais de Cliente concede um token de 30 minutos de acesso. Assim que o token tiver expirado, tem de solicitar outro token.</li></ul></ol><name id=resource-owner></name><h5>Proprietário de Recurso</h5><h5>Obter o token de Concessão de Proprietário de Recurso</h5><ol><li>Abra a <a href=https://api.gettyimages.com/swagger>ferramenta API baseada na Web da Getty Images</a>.</li><li>Na coluna esquerda clique em OAuth2 e, em seguida, clique em <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/ResourceOwner_Post>POST /oauth2/token – Concessão de Proprietário de Recurso</a>.<p><img src=../../images/examples/auth/oa-auth-2-rog.jpg class=oa-auth-rog></p></li><li>Introduza a sua <strong class=dark-bold>chave API</strong> na caixa client_id.</li><p><a href=getting-started.html>Como posso obter uma chave da API da &quot;sandbox&quot;?</a></p><li>Na caixa client_secret,introduza o <strong class=dark-bold>segredo da sua API</strong>.<p>Onde encontro o segredo da minha API?</p><p class=faqa>Abra o site da API da Getty Images e, na barra de navegação, no canto superior direito, clique em <a href=https://developer.gettyimages.com/apps/mykeys>Iniciar sessão</a>. Introduza o seu nome de utilizador e password, clique em <strong class=dark-bold>Iniciar sessão</strong> e, em seguida, navegue até à página A minha conta.</p></li><li>Introduza o seu nome de utilizador na caixa do nome de utilizador.</li><li>Introduza a password de utilizador na caixa da password.</li><li>Clique em <strong class=dark-bold>Obter token</strong>.</li></ol><h5>Obter o token atualizado</h5><ol><li>Abra a <a href=https://api.gettyimages.com/swagger>ferramenta API baseada na Web da Getty Images</a>.</li><li>Na coluna esquerda clique em OAuth2 e, em seguida, clique em <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/RefreshToken_Post>POST /oauth2/token – Token atualizado</a>.<p><img src=../../images/examples/auth/oa-auth-2-rt.jpg class=oa-auth-rt></p></li><li>Introduza a sua <strong class=dark-bold>chave API</strong> na caixa client_id.</li><p><a href=getting-started.html>Como posso obter uma chave da API da "sandbox"?</a></p><li>Na caixa client_secret, introduza o <strong class=dark-bold>segredo da sua API</strong>.<p>Onde encontro o segredo da minha API?</p><p class=faqa>Abra o site da API da Getty Images e, na barra de navegação, no canto superior direito, clique em <a href=https://developer.gettyimages.com/apps/mykeys>Iniciar sessão</a>. Introduza o seu nome de utilizador e password, clique em <strong class=dark-bold>Iniciar sessão</strong> e, em seguida, navegue até à página A minha conta.</p></li><li>Na caixa refresh_token, introduza o valor de refresh_token que recebeu como resposta ao seu pedido inicial de <a href=#resource-owner>token de proprietário de recurso</a>.</li></ol><name id=implicit-grant></name><h5>Concessão Implícita</h5><ol><li>A aplicação de cliente chama o ponto final de OAuth2 (por exemplo, https://api.gettyimages.com/oauth2/auth/) e transmite a seguinte informação:<ul><li>Chave API/ID de cliente</li><li>URI de reencaminhamento que foi registado com a API da Getty Images (podem ser adicionados parâmetros que não estejam registados)</li><li>Tipo de token de resposta</li><li>Estado (opcional)</li></ul></li><li>A aplicação de cliente reencaminha para a página de início de sessão da Getty Images, cuja localização é fornecida na resposta ao passo 1.</li><li>O utilizador final inicia a sessão com o seu nome de utilizador ou password da Getty Images ou Thinkstock e, em seguida, clica em Autorizar.</li><li>A API verifica as credenciais do cliente e do utilizador e, em seguida, reencaminha para a aplicação de cliente com um token de acesso de longa duração.</li></ol></section><section class=authorization-bg>&nbsp;</section><style>
    .cookie-alert {
        position: fixed;
        bottom: 0;
        right: 0;
        background-color: #0e1114;
        max-width: 300px;
        z-index: 200;
        padding: 1rem;
        margin: 1rem;
        border: solid 1px white;
        text-align: left !important;
    }

    .cookie-alert p a {
        color: #e6e6e6;
    }

    p a {
        text-decoration: underline;
    }

    .cookie-alert .close-icon {
        background-image: url('/images/icons/x.svg');
        background-repeat: no-repeat;
        background-position: center;
        cursor: pointer;
        height: 20px;
        width: 20px;
        position: absolute;
        top: 0;
        right: 0;
        margin: 1rem;
    }

    .cookie-alert span {
        color: #fff;
    }

    .cookie-alert p {
        color: #fff;
    }
</style><div class=cookie-alert><div class=close-icon></div><span>Este site usa cookies.</span><p>Ao avançar, estará a aceitar a nossa <a href=https://www.gettyimages.com/company/privacy-policy target=_blank>Política de Privacidade</a>, incluindo a utilização de cookies e outras tecnologias.</p></div><script type=text/javascript>
    $(document).ready(function () {
        var cookies = document.cookie.split(';')
            .map(function (x) {
                return x.trim().split('=');
            })
            .reduce(function (a, b) {
                a[b[0]] = b[1];
                return a;
            }, {});

        console.log(cookies);
        if (cookies.agreesToCookies === 'true') {
            $('.cookie-alert').hide();
        }
        else {
            $('.cookie-alert').show();
        }

        $('.cookie-alert .close-icon').click(function () {
            let expirationDate = new Date();
            expirationDate.setFullYear(expirationDate.getFullYear() + 5);
            document.cookie = `agreesToCookies=true; expires=${expirationDate.toGMTString()}; path=/`;
            $('.cookie-alert').hide();
        });
    });

</script></div></body><script src=/js/jquery.slicknav.js></script><script type=text/javascript>
$(document).ready(function(){
	$('.nav-toggle').click(function(){
		//get collapse content selector
		var collapse_content_selector = $(this).attr('href');					

		//make the collapse content to be shown or hide
		var toggle_switch = $(this);
		$(collapse_content_selector).toggle(function(){
			if($(this).css('display')=='none'){
				//change the button label to be 'Show'
				toggle_switch.html('<i class="fa fa-plus-square-o"></i> Veja uma descrição das opções de metadados ');
			} else {
				//change the button label to be 'Hide'
				toggle_switch.html('<i class="fa fa-minus-square-o"></i> Feche a descrição de opções de metadados');
			}
		});
	});
	$('#menu').slicknav();
});
</script></html>