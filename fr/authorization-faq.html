<!DOCTYPE html><html><head><title>FAQ : Utiliser OAuth 2.0 pour accéder aux API de Getty Images</title><script src=http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js></script><script src=/js/s_code.js></script><script src=/js/analytics.js></script><script src=/js/angular.min.js></script><script src=/js/spin.min.js></script><script src=/js/angular-spinner.min.js></script><script src=/js/api.js></script><link href="http://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900" rel=stylesheet type=text/css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/search.css><link rel=stylesheet href=/css/slicknav.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/responsive.css><link rel="shortcut icon" href=/images/favicon.gif type=image/gif><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><meta name=viewport content="width=device-width, initial-scale=1"></head><body class="home dark-text" ng-app=api><header><div class=site-width><div class="slice group"><div class="col length-4-of-4 logo"><a href="/fr/"><img src=/images/getty-api-logo.jpg alt="Getty Images API"></a><ul class="nav-items site-nav-desktop"><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Docs", "eVar3": "Docs" }, "parameter": "HeaderLink" }' href=../api>Docs</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Forum", "eVar3": "Forum" }, "parameter": "HeaderLink" }' href=http://developer.gettyimages.com/forum>Forum</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Sign In", "eVar3": "Sign In" }, "parameter": "HeaderLink" }' href=https://developer.gettyimages.com/apps/mykeys>Identifiez-vous</a></li><li class=nav-item><a omniture='{ "fields": { "events":"event1", "prop3":"Getting Started", "eVar3": "Getting Started" }, "parameter": "HeaderLink" }' href=../fr/getting-started.html>Démarrage</a></li></ul><ul id=menu class=site-nav-mobile><li><a omniture='{ "fields": { "events":"event1", "prop3":"Docs", "eVar3": "Docs" }, "parameter": "HeaderLink" }' href=../api>Docs</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Forum", "eVar3": "Forum" }, "parameter": "HeaderLink" }' href=http://developer.gettyimages.com/forum>Forum</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Sign In", "eVar3": "Sign In" }, "parameter": "HeaderLink" }' href=https://developer.gettyimages.com/apps/mykeys>Identifiez-vous</a></li><li><a omniture='{ "fields": { "events":"event1", "prop3":"Getting Started", "eVar3": "Getting Started" }, "parameter": "HeaderLink" }' class=no-border href=../fr/getting-started.html>Démarrage</a></li></ul></div></div></div></header><div class="slice group"><section class=site-width-alt-auth><h2 class=workflows-heading>FAQ : Utiliser OAuth 2.0 pour accéder aux API de Getty Images</h2><p>Les API de Getty Images requièrent l&#x27;utilisation du protocole OAuth 2.0 pour l&#x27;extraction de jetons d&#x27;accès et d&#x27;authentification. Ces jetons ont pour but de :</p><ul><li>Vous identifier (authentification)</li><li>Identifier le contenu auquel vous avez accès ou pour lequel vous disposez d’une licence (autorisation)</li></ul><p>Il est possible d&#x27;effectuer des appels API en disposant uniquement d’une clé API (par exemple, les paramètres de recherche /v3/search/images et /v3/images ne requièrent pas de jetons d&#x27;accès). Cependant nous ne recommandons pas d&#x27;utiliser cette méthode car la réponse obtenue manquera de précision. Par exemple, les demandes de recherche réalisées uniquement avec une clé ne fournissent que des produits que vous ne pouvez pas utiliser parce qu&#x27;ils ne font pas partie du champ d&#x27;application de la licence d&#x27;utilisation qui vous a été accordée.</p></section><section class=auth-head><div class=content-auth-head><h2 class=black-text>Questions fréquemment posées concernant l&#x27;autorisation</h2></div></section><section class=site-width-alt-auth><p class=faqq>Q : Comment m&#x27;assurer que mes résultats de recherche contiennent uniquement les images ou les vidéos que ma licence me permet d&#x27;utiliser ?</p><span class=faqa>R : Veuillez toujours inclure un jeton / images dans l&#x27;en-tête de votre demande de Recherche, Images ou Vidéos. Le jeton vous identifie et définit les produits pour lesquels vous avez une licence, afin que votre moteur de recherche n&#x27;extraie que les produits correspondants à cette collection de contenus.</span><p class=faqq>Q : Lors d’une demande de téléchargement, je reçois le message d&#x27;erreur « non autorisé ». Pourquoi ?</p><span class=faqa>R : Vous pouvez recevoir le message d&#x27;erreur « non autorisé » parce que l&#x27;image ou la vidéo que vous essayez de télécharger ne fait pas partie du champ d&#x27;application de votre contrat de licence. En outre, un jeton est requis pour toutes les demandes de téléchargement, et il se peut qu’il soit absent de l&#x27;en-tête d&#x27;autorisation HTTP de votre demande.</span><p class=faqq>Q : Les jetons ont-ils une date d&#x27;expiration ?</p><span class=faqa>R : Oui. Les jetons générés par <a omniture='{ "fields": { "events":"event5", "prop5":"client credentials", "eVar5": "client credentials" }, "parameter": "BodyLink" }' href=#client-credentials>Client Credentials</a> (authentification client) et <a omniture='{ "fields": { "events":"event5", "prop5":"resource owner", "eVar5": "resource owner" }, "parameter": "BodyLink" }' href=#resource-owner>Resource Owner</a> (détenteur de données) ont une durée de vie de 30 minutes.</span><p class=faqq>Q : Comment puis-je permettre à mes utilisateurs de se connecter avec leur nom d&#x27;utilisateur Getty Images ?</p><span class=faqa>R : Le flux Implicit Grant (autorisation implicite) d'OAuth 2.0 a été mis en œuvre pour permettre cette opération. Reportez-vous à la section <a omniture='{ "fields": { "events":"event5", "prop5":"authorization workflows", "eVar5": "authorization workflows" }, "parameter": "BodyLink" }' href=#authorization-workflows>Flux d'autorisation</a> pour plus d'informations sur <a omniture='{ "fields": { "events":"event5", "prop5":"implicit grant", "eVar5": "implicit grant" }, "parameter": "BodyLink" }' href=#implicit-grant>Implicit Grant</a> (autorisation implicite).</span></section><section class=auth-sub-head><div class=content-auth-head><name id=authorization-workflows></name><h3 class=black-text>Flux d&#x27;autorisation</h3></div></section><section class=site-width-alt-auth><p>L'API de Getty Images utilise le protocole OAuth 2.0 pour accorder aux applications clientes l’accès à la fonctionnalité API. Votre application cliente utilisera OAuth 2.0 pour demander un jeton d'accès au serveur d'autorisation de Getty Images, extraire un jeton de la réponse, puis renvoyer le jeton à l'API de Getty Images qui vous intéresse sans interrompre vos recherches et téléchargements d'images. L'API de Getty Images prend en charge les trois flux OAuth 2.0 suivants :</p><ul><li>Client Credentials (authentification client)</li><li>Resource Owner (détenteur de données)</li><li>Implicit Grant (autorisation implicite)</li></ul><h4>Quel flux OAuth 2.0 devrai-je utiliser ?</h4><table class=auth border=1 cellspacing=0 cellpadding=0 width=80%><tr class=table-header><td width=35% valign=top class=table-header><p><strong>Si</strong></p></td><td width=65% valign=top class=table-header><p><strong>Alors</strong></p></td></tr><tr><td width=166 valign=top><p>Vous avez reçu une clé API en ouvrant un compte sur le site de l&#x27;API de Getty Images</p></td><td width=301 valign=top><p>Votre clé est automatiquement configurée pour utiliser le flux Client Credential (authentification client).</p></td></tr><tr><td width=166 valign=top><p>Vous avez reçu une clé API en ouvrant un compte sur le site de l&#x27;API de Getty Images ET vous êtes prêt à commercialiser votre application</p></td><td width=301 valign=top><ul class=auth-table-list><li>Tavailler avec un responsable de clientèle Getty Images pour initier un contrat de licence entre votre société et Getty Images.</li><li>Travailler avec un responsable des opérations Getty Images afin de déterminer quel flux OAuth 2.0 est adapté à votre application.</li></ul></td></tr></table><h4>Flux OAuth 2.0 pris en charge par l&#x27;API de Getty Images</h4><name id=client-credentials></name><h5>Client Credentials (authentification client)</h5><p>Le flux Client Credentials (authentification client) est destiné aux applications clientes qui n'auront pas d'utilisateurs individuels. Une application Sandbox, qui sert au développement de tests et ne requiert pas de contrat de licence, ne pourra utiliser que le flux Client Credential (authentification client).</p><p>Si votre société a un contrat de licence avec Getty Images qui autorise l'accès à des images spécifiques, l'utilisation du flux Client Credentials (authentification client) pour vos demandes de recherche vous renverra des résultats qui ne reflètent pas le contenu auquel vous avez accès et vous ne pourrez pas télécharger de fichiers. Pour obtenir des résultats de recherche et télécharger des produits qui font partie du champ d'application de votre contrat de licence, votre clé doit être paramétrée comme un jeton pleinement autorisé quand vous utilisez Client Credentials (authentification client). Pour en savoir davantage sur une configuration particulière, veuillez contacter un responsable de clientèle Getty Images.</p><p>Le flux Client Credential (authentification client) accorde un jeton pour un accès de 30 minutes. Une fois que le jeton est périmé, vous devez en demander un autre. La plupart des applications nécessitent de récupérer un nouveau jeton avant l’expiration de celui que vous utilisez.</p><h5>Obtenir un jeton Client Credentials (authentification client)</h5><ol><li>Ouvrez l <a href=https://api.gettyimages.com/swagger>outil API du site web de Getty Images</a>.</li><li>Dans la colonne de gauche, cliquez sur <b>OAuth2</b>, puis cliquez sur <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/ClientCredentials_Post>POST /oauth2/token - Client Credentials</a>.</li><img src=../../images/examples/auth/oa-auth-2-cc.jpg class=oa-auth-cc><li>Dans le champ <strong class=dark-bold>client_id</strong>, entrez votre clé API Sandbox.<p><a href=getting-started.html>Comment obtenir une clé API Sandbox ?</a></p></li><li>Dans le champ <strong class=dark-bold>client_secret</strong>, entrez votre code secret API.<p>Où trouver mon code secret API ?</p><p class=faqa>Ouvrez le site API de Getty Images. Dans la barre de navigation située en haut à droite, cliquez sur <a href=https://developer.gettyimages.com/apps/mykeys>Identifiez-vous<a>. Entrez votre nom d'utilisateur et votre mot de passe, cliquez sur <strong class=bold-text>Identifiez-vous</strong>, puis allez sur la page Mon compte.</a></a></p></li><li>Cliquez sur <strong class=dark-bold>Obtenir un jeton</strong>.<p><strong class=dark-bold>Remarques</strong></p></li><ul><li>Utilisez ce jeton lors de vos appels vers les points de terminaison API.</li><li>Le flux Client Credential (authentification client) accorde un jeton valable 30 minutes. Une fois que le jeton est périmé, vous devez en demander un autre.</li></ul></ol><name id=resource-owner></name><h5>Resource Owner (détenteur de données)</h5><p>Utilisez ce flux si votre société possède un contrat de licence avec Getty Images. Ce flux donne des résultats de recherche qui reflètent de manière précise les produits auxquels votre application peut accéder, et permettra le téléchargement de produits selon les critères de votre contrat de licence.</p><p>Dans ce flux, vous validez le nom d'utilisateur et le mot de passe de votre application, ainsi que votre clé et votre code secret API. L'API donne à votre application la permission de recevoir des résultats de recherche pertinents pour les produits autorisés par votre contrat de licence.</p><p>Le flux Resource Owner (détenteur de données) accorde un jeton valable 30 minutes. Si l'application client a besoin de plus de 30 minutes, elle peut utiliser le jeton d'actualisation pour obtenir un nouveau jeton d'accès qui sera aussi valable pendant 30 minutes. Le jeton d'actualisation ne peut pas être utilisé directement pour accéder à l'API. Le jeton d'actualisation est valable un an et peut être utilisé pour extraire un jeton d'accès de 30 minutes en appelant le point de terminaison des jetons avec une autorisation de type refresh_token. Notez que si vous changez le mot de passe, le jeton ne sera plus valable.</p><h5>Obtenir le jeton Resource Owner Grant (autorisation par détenteur de données)</h5><ol><li>Ouvrez l'<a href=https://api.gettyimages.com/swagger>outil API du site web de Getty Images</a>.</li><li>Dans la colonne de gauche, cliquez sur OAuth2, puis cliquez sur <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/ResourceOwner_Post>POST /oauth2/token – Resource Owner Grant</a>.<p><img src=../../images/examples/auth/oa-auth-2-rog.jpg class=oa-auth-rog></p></li><li>Dans le champ client_id, entrez votre <strong class=dark-bold>clé API</strong>.</li><p><a href=getting-started.html>Comment obtenir une clé API Sandbox ?</a></p><li>Dans le champ client_secret, entrez votre <strong class=dark-bold>code secret API</strong>.<p>Où trouver mon code secret API ?</p><p class=faqa>Ouvrez le site API de Getty Images, et dans la barre de navigation en haut à droite, cliquez sur <a href=https://developer.gettyimages.com/apps/mykeys>Identifiez-vous</a>. Entrez votre nom d'utilisateur et votre mot de passe, cliquez sur <strong class=dark-bold>Identifiez-vous</strong>, puis allez sur la page Mon compte.</p></li><li>Dans le champ nom d'utilisateur, entrez votre nom d'utilisateur.</li><li>Dans le champ mot de passe, entrez votre mot de passe.</li><li>Cliquez sur <strong class=dark-bold>Obtenir un jeton</strong>.</li></ol><h5>Obtenir un jeton d&#x27;actualisation</h5><ol><li>Ouvrez l'<a href=https://api.gettyimages.com/swagger>outil API du site web de Getty Images</a>.</li><li>Dans la colonne de gauche, cliquez sur OAuth2, puis cliquez sur <a href=https://api.gettyimages.com/swagger/ui/index#!/OAuth/RefreshToken_Post>POST /oauth2/token – Refresh Token</a>.<p><img src=../../images/examples/auth/oa-auth-2-rt.jpg class=oa-auth-rt></p></li><li>Dans le champ client_id, entrez votre <strong class=dark-bold>Clé API</strong>.</li><p><a href=getting-started.html>Comment obtenir une clé API Sandbox ?</a></p><li>Dans le champ client_secret, entrez votre <strong class=dark-bold>Code secret API</strong>.<p>Où trouver mon code secret API ?</p><p class=faqa>Ouvrez le site API de Getty Images, et dans la barre de navigation en haut à droite, cliquez sur <a href=https://developer.gettyimages.com/apps/mykeys>Identifiez-vous</a>. Entrez votre nom d'utilisateur et votre mot de passe, cliquez sur <strong class=dark-bold>Identifiez-vous</strong>, puis allez sur la page Mon compte.</p></li><li>Dans le champ refresh_token, entrez la valeur du refresh_token que vous avez reçue lors de votre première demande de <a href=#resource-owner>resource owner token</a> (jeton de détenteur de données).</li></ol><name id=implicit-grant></name><h5>Implicit Grant (autorisation implicite)</h5><p>Dans ce flux, l'application cliente invite les utilisateurs à s'identifier avec leur nom d'utilisateur et leur mot de passe Getty Images. Couramment employé par les applications dont les utilisateurs sont aussi des clients de Getty Images (entre autres, les systèmes de gestion de couleurs, les gestionnaires de documents numériques et les plug-ins), ce flux permet à l'application cliente de donner des résultats de recherche pertinents, comportant des produits qui tombent dans le champ d'application du contrat de licence Getty Images accordé aux utilisateurs.</p><p>Les utilisateurs sont dirigés vers la page de connexion de Getty Images pour qu'ils saisissent leur nom d'utilisateur et leur mot de passe, puis sont redirigés vers l'application. Le jeton créé lors de ce flux est valable un an.</p><p>Quand un jeton est périmé pour une ressource donnée, un nouveau jeton d'accès doit être extrait pour pouvoir y accéder. Le flux Implicit Grant (autorisation implicite) ne prend pas en charge l'actualisation du jeton d'accès. De nouveaux jetons d'accès doivent être extraits via le flux Implicit Grant (autorisation implicite). Si vous changez le mot de passe, le jeton ne sera plus valable.</p><ol><li>L'application cliente appelle le point de terminaison OAuth2 (par exemple https://api.gettyimages.com/oauth2/auth) et transfère l'information suivante :<ul><li>Clé API / Identifiant client</li><li>L'URL de redirection qui a été enregistrée avec l'API de Getty Images (il est possible d'ajouter des paramètres qui ne sont pas enregistrés)</li><li>Réponse type de jeton</li><li>Statut (en option)</li></ul></li><li>L&#x27;application cliente redirige vers la page de connexion de Getty Images, dont l&#x27;emplacement est fourni par la réponse à l&#x27;étape 1.</li><li>L'utilisateur final s'identifie avec son nom d'utilisateur et son mot de passe Getty Images ou Thinkstock, puis clique sur Autoriser.</li><li>L'API vérifie les identifiants du client et de l'utilisateur, puis les redirige vers l'application cliente grâce à un jeton d'accès sans date d'expiration.</li></ol></section><section class=authorization-bg>&nbsp;</section><style>
    .cookie-alert {
        position: fixed;
        bottom: 0;
        right: 0;
        background-color: #0e1114;
        max-width: 300px;
        z-index: 200;
        padding: 1rem;
        margin: 1rem;
        border: solid 1px white;
        text-align: left !important;
    }

    .cookie-alert p a {
        color: #e6e6e6;
    }

    p a {
        text-decoration: underline;
    }

    .cookie-alert .close-icon {
        background-image: url('/images/icons/x.svg');
        background-repeat: no-repeat;
        background-position: center;
        cursor: pointer;
        height: 20px;
        width: 20px;
        position: absolute;
        top: 0;
        right: 0;
        margin: 1rem;
    }

    .cookie-alert span {
        color: #fff;
    }

    .cookie-alert p {
        color: #fff;
    }
</style><div class=cookie-alert><div class=close-icon></div><span>Ce site utilise des cookies.</span><p>En continuant, vous acceptez de vous conformer à notre <a href=https://www.gettyimages.com/company/privacy-policy target=_blank>Charte de protection des données personnelles</a>, notamment l’Utilisation de cookies et autres technologies de suivi.</p></div><script type=text/javascript>
    $(document).ready(function () {
        var cookies = document.cookie.split(';')
            .map(function (x) {
                return x.trim().split('=');
            })
            .reduce(function (a, b) {
                a[b[0]] = b[1];
                return a;
            }, {});

        console.log(cookies);
        if (cookies.agreesToCookies === 'true') {
            $('.cookie-alert').hide();
        }
        else {
            $('.cookie-alert').show();
        }

        $('.cookie-alert .close-icon').click(function () {
            let expirationDate = new Date();
            expirationDate.setFullYear(expirationDate.getFullYear() + 5);
            document.cookie = `agreesToCookies=true; expires=${expirationDate.toGMTString()}; path=/`;
            $('.cookie-alert').hide();
        });
    });

</script></div></body><script src=/js/jquery.slicknav.js></script><script type=text/javascript>
$(document).ready(function(){
	$('.nav-toggle').click(function(){
		//get collapse content selector
		var collapse_content_selector = $(this).attr('href');					

		//make the collapse content to be shown or hide
		var toggle_switch = $(this);
		$(collapse_content_selector).toggle(function(){
			if($(this).css('display')=='none'){
				//change the button label to be 'Show'
				toggle_switch.html('<i class="fa fa-plus-square-o"></i> Visualiser une description des options de métadonnées ');
			} else {
				//change the button label to be 'Hide'
				toggle_switch.html('<i class="fa fa-minus-square-o"></i> Fermer la description des options de métadonnées');
			}
		});
	});
	$('#menu').slicknav();
});
</script></html>